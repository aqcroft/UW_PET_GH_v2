<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UW Partner Earnings Tool (Tool Only)</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 (UMD) + Babel for in-browser JSX -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-slate-50">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    // Minimal inline SVG icon components (replacing lucide-react imports)
    const Icon = ({ children, className }) => (
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} aria-hidden="true">
        {children}
      </svg>
    );

    const TrendingUpIcon = (props) => (
      <Icon {...props}>
        <path d="M3 17l6-6 4 4 8-8" />
        <path d="M14 7h7v7" />
      </Icon>
    );

    const RefreshCwIcon = (props) => (
      <Icon {...props}>
        <path d="M21 12a9 9 0 1 1-2.64-6.36" />
        <path d="M21 3v6h-6" />
      </Icon>
    );

    const LockIcon = (props) => (
      <Icon {...props}>
        <rect x="3" y="11" width="18" height="11" rx="2" />
        <path d="M7 11V7a5 5 0 0 1 10 0v4" />
      </Icon>
    );

    const InfoIcon = (props) => (
      <Icon {...props}>
        <circle cx="12" cy="12" r="10" />
        <path d="M12 16v-4" />
        <path d="M12 8h.01" />
      </Icon>
    );

    const XIcon = (props) => (
      <Icon {...props}>
        <path d="M18 6L6 18" />
        <path d="M6 6l12 12" />
      </Icon>
    );

    const UWPETToolOnly = () => {
      // Tool state (quiz removed)
      const [showCelebration, setShowCelebration] = useState(false);
      const [selectedCircle, setSelectedCircle] = useState(null);
      const [showPartnerPrompt, setShowPartnerPrompt] = useState(false);
      const [showResetConfirm, setShowResetConfirm] = useState(false);
      const [showInfoPopup, setShowInfoPopup] = useState(false);
      const [cardFlipped, setCardFlipped] = useState(false);
      const previouslyQualified = useRef(false);

      const [customers, setCustomers] = useState([
        { type: 'own', services: 0, isPartner: false },
        { type: null, services: 0, isPartner: false },
        { type: null, services: 0, isPartner: false },
        { type: null, services: 0, isPartner: false },
        { type: null, services: 0, isPartner: false },
        { type: null, services: 0, isPartner: false }
      ]);

      const calculateCB = (customer) => {
        if (customer.type === 'own' || customer.type === 'renting') return 0;
        if (customer.type === 'homeowner') {
          if (customer.services === 1) return 50;
          if (customer.services === 2) return 100;
          if (customer.services === 3) return 250;
          if (customer.services === 4) return 300;
        }
        return 0;
      };

      const highActivityCustomers = customers.filter((c, i) => i > 0 && c.type === 'homeowner' && (c.services === 3 || c.services === 4)).length;
      const habPerCustomer = highActivityCustomers >= 2 ? (highActivityCustomers >= 4 ? 100 : 50) : 0;
      const totalHAB = highActivityCustomers * habPerCustomer;

      const totalCB = customers.reduce((sum, c) => sum + calculateCB(c), 0);
      const hasPartner = customers.some((c, i) => i > 0 && c.isPartner);
      const allCirclesFilled = customers.every(c => c.type !== null);
      const qualifiesForFastStart = allCirclesFilled && hasPartner;
      const fastStartBonus = qualifiesForFastStart ? 500 : 0;
      const grandTotal = totalCB + totalHAB + fastStartBonus;

      const tenantCount = customers.filter((c, i) => i > 0 && c.type === 'renting').length;
      const residualIncome = tenantCount * 2.5;

      const partnerSupport = Math.round(totalCB / 2) + 400;

      const getCircleOpacity = (index) => {
        if (index === 0) return 1;
        for (let i = 1; i < index; i++) {
          if (customers[i].type === null) return 0.3;
        }
        if (customers[index].type !== null) return 1;
        return 1;
      };

      const canSelectCircle = (index) => {
        if (index === 0) return false;
        if (allCirclesFilled) return true;
        for (let i = 1; i < index; i++) {
          if (customers[i].type === null) return false;
        }
        return true;
      };

      const handlePartnerBadgeClick = (e, index) => {
        e.stopPropagation();
        if (index === 0 || customers[index].type === null) return;

        const wasQualified = qualifiesForFastStart;
        const newCustomers = [...customers];
        newCustomers[index].isPartner = !newCustomers[index].isPartner;
        setCustomers(newCustomers);

        const nowAllFilled = newCustomers.every(c => c.type !== null);
        const nowHasPartner = newCustomers.some((c, i) => i > 0 && c.isPartner);
        const nowQualifies = nowAllFilled && nowHasPartner;

        if (!wasQualified && nowQualifies && !previouslyQualified.current) {
          previouslyQualified.current = true;
          setTimeout(() => {
            setShowCelebration(true);
            setTimeout(() => setShowCelebration(false), 3000);
          }, 200);
        }

        if (!nowQualifies) previouslyQualified.current = false;
        setShowPartnerPrompt(false);
      };

      const handleCircleClick = (index) => {
        if (index === 0 || !canSelectCircle(index)) return;
        setSelectedCircle(index);
      };

      const setCustomerType = (type, services = 0) => {
        if (selectedCircle === null) return;

        const wasQualified = qualifiesForFastStart;
        const newCustomers = [...customers];
        newCustomers[selectedCircle] = { type, services, isPartner: newCustomers[selectedCircle].isPartner };
        setCustomers(newCustomers);
        setSelectedCircle(null);

        const nowAllFilled = newCustomers.every(c => c.type !== null);
        const nowHasPartner = newCustomers.some((c, i) => i > 0 && c.isPartner);
        const nowQualifies = nowAllFilled && nowHasPartner;

        if (!wasQualified && nowQualifies && !previouslyQualified.current) {
          previouslyQualified.current = true;
          setTimeout(() => {
            setShowCelebration(true);
            setTimeout(() => setShowCelebration(false), 3000);
          }, 200);
        } else if (nowAllFilled && !nowHasPartner) {
          setShowPartnerPrompt(true);
        }

        if (!nowQualifies) previouslyQualified.current = false;
      };

      const removeCustomer = () => {
        if (selectedCircle === null) return;
        const newCustomers = [...customers];
        newCustomers[selectedCircle] = { type: null, services: 0, isPartner: false };
        setCustomers(newCustomers);
        setSelectedCircle(null);

        const nowQualifies = newCustomers.every(c => c.type !== null) && newCustomers.some((c, i) => i > 0 && c.isPartner);
        if (!nowQualifies) previouslyQualified.current = false;
      };

      const resetTracking = () => {
        setCustomers([
          { type: 'own', services: 0, isPartner: false },
          { type: null, services: 0, isPartner: false },
          { type: null, services: 0, isPartner: false },
          { type: null, services: 0, isPartner: false },
          { type: null, services: 0, isPartner: false },
          { type: null, services: 0, isPartner: false }
        ]);
        setSelectedCircle(null);
        setShowPartnerPrompt(false);
        setShowResetConfirm(false);
        setCardFlipped(false);
        previouslyQualified.current = false;
      };

      return (
        <div className="min-h-screen bg-gradient-to-br from-pink-50 to-purple-50 p-4 md:p-8">
          <div className="max-w-2xl mx-auto">
            <div className="text-center mb-6">
              <h1 className="text-2xl md:text-3xl font-bold text-gray-800 mb-2">UW Partner Earnings Tool</h1>
              <p className="text-sm md:text-base text-gray-600">Explore what you'd earn from five customers in the first 30 days</p>
            </div>

            {showCelebration && (
              <div className="fixed inset-0 pointer-events-none z-50">
                {[...Array(50)].map((_, i) => (
                  <div
                    key={i}
                    className="absolute animate-confetti"
                    style={{
                      left: `${Math.random() * 100}%`,
                      top: '-10%',
                      animationDelay: `${Math.random() * 0.5}s`,
                      animationDuration: `${2 + Math.random() * 1}s`
                    }}
                  >
                    <div
                      className="text-yellow-400"
                      style={{
                        fontSize: `${Math.random() * 20 + 10}px`,
                        transform: `rotate(${Math.random() * 360}deg)`
                      }}
                    >
                      âœ¨
                    </div>
                  </div>
                ))}
              </div>
            )}

            <div className="bg-white rounded-2xl shadow-lg p-6 md:p-8">
              <div className="grid grid-cols-3 gap-4 mb-4">
                {customers.map((customer, index) => (
                  <div key={index} className="flex flex-col items-center relative">
                    <div
                      onClick={() => handleCircleClick(index)}
                      style={{ opacity: getCircleOpacity(index) }}
                      className={`w-20 h-20 rounded-full border-4 flex flex-col items-center justify-center text-lg font-bold transition-all relative
                        ${customer.type === null ? 'border-gray-300 text-gray-400 bg-gray-50' : customer.type === 'own' ? 'border-gray-400 text-gray-700 bg-gray-100' : customer.type === 'renting' ? 'border-blue-600 text-blue-700 bg-blue-50' : 'border-purple-600 text-purple-700 bg-purple-50'}
                        ${index > 0 && selectedCircle === index ? 'ring-4 ring-purple-300' : ''}
                        ${canSelectCircle(index) ? 'cursor-pointer hover:scale-105' : 'cursor-not-allowed'}
                      `}
                    >
                      {index === 0 ? (
                        <span className="text-lg font-bold">You</span>
                      ) : customer.type ? (
                        <>
                          <span className="text-sm font-bold">Â£{calculateCB(customer).toLocaleString()}</span>

                          {customer.type === 'homeowner' && (customer.services === 3 || customer.services === 4) && highActivityCustomers >= 2 && (
                            <div className="absolute -top-1 -right-1 px-1 py-0.5 bg-orange-500 text-white text-xs font-bold rounded z-10">+Â£{habPerCustomer}</div>
                          )}

                          <div
                            onClick={(e) => handlePartnerBadgeClick(e, index)}
                            className={`absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 flex items-center justify-center z-10 cursor-pointer hover:scale-110 transition-transform
                              ${customer.isPartner ? 'bg-yellow-400 border-yellow-600' : 'bg-gray-200 border-gray-400 hover:border-yellow-500'}
                            `}
                            title="Toggle Partner upgrade"
                          >
                            <span className={`text-xs font-bold ${customer.isPartner ? 'text-yellow-900' : 'text-gray-500'}`}>P</span>
                          </div>
                        </>
                      ) : (
                        <>
                          {`${index}${index === 1 ? 'st' : index === 2 ? 'nd' : index === 3 ? 'rd' : 'th'}`}
                          <div className="absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-gray-200 border-2 border-gray-400 flex items-center justify-center z-10">
                            <span className="text-xs font-bold text-gray-500">P</span>
                          </div>
                        </>
                      )}
                    </div>
                  </div>
                ))}
              </div>

              {showPartnerPrompt && allCirclesFilled && !hasPartner && (
                <div className="mb-4 p-4 bg-gradient-to-r from-yellow-400 to-yellow-500 rounded-lg shadow-md animate-slideDown">
                  <div className="flex items-center justify-center gap-3">
                    <div className="w-6 h-6 rounded-full bg-gray-200 border-2 border-gray-400 flex items-center justify-center">
                      <span className="text-xs font-bold text-gray-500">P</span>
                    </div>
                    <span className="text-xl">â†’</span>
                    <div className="w-6 h-6 rounded-full bg-yellow-400 border-2 border-yellow-600 flex items-center justify-center">
                      <span className="text-xs font-bold text-yellow-900">P</span>
                    </div>
                    <p className="text-base font-bold text-yellow-900">Press to upgrade just one customer above to Partner</p>
                  </div>
                </div>
              )}

              {selectedCircle !== null && (
                <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4" onClick={() => setSelectedCircle(null)}>
                  <div className="bg-white rounded-xl p-6 shadow-2xl max-w-sm w-full animate-slideDown" onClick={(e) => e.stopPropagation()}>
                    <p className="text-sm font-semibold text-gray-900 mb-4 text-center">Customer {selectedCircle}: Homeowner with<br className="sm:hidden" /> how many services?</p>
                    <div className="grid grid-cols-4 gap-2 mb-3">
                      {[1, 2, 3, 4].map(num => {
                        const cbAmount = num === 1 ? 50 : num === 2 ? 100 : num === 3 ? 250 : 300;
                        return (
                          <button
                            key={num}
                            onClick={() => setCustomerType('homeowner', num)}
                            className={`py-4 px-2 border-2 rounded-lg font-medium transition-all
                              ${customers[selectedCircle].type === 'homeowner' && customers[selectedCircle].services === num
                                ? 'bg-purple-600 text-white border-purple-600'
                                : 'bg-purple-50 border-purple-300 text-purple-700 hover:border-purple-600 hover:bg-purple-100'}
                            `}
                          >
                            <div className="text-base font-bold">{num}</div>
                            <div className="text-xs mt-1">(Â£{cbAmount})</div>
                          </button>
                        );
                      })}
                    </div>
                    <p className="text-center text-sm text-gray-500 mb-3">or</p>
                    <button
                      onClick={() => setCustomerType('renting')}
                      className={`w-full py-3 px-3 border-2 rounded-lg font-medium transition-all mb-3
                        ${customers[selectedCircle].type === 'renting'
                          ? 'bg-blue-600 text-white border-blue-600'
                          : 'bg-blue-50 border-blue-300 text-blue-700 hover:border-blue-600 hover:bg-blue-100'}
                      `}
                    >
                      <span className="text-base font-bold">Tenant/Renting</span> <span className="text-xs font-normal">(No customer bonus, just recurring income)</span>
                    </button>
                    {customers[selectedCircle].type !== null && (
                      <button
                        onClick={removeCustomer}
                        className="w-full py-3 px-3 border-2 border-red-300 bg-red-50 text-red-700 rounded-lg font-medium hover:border-red-600 hover:bg-red-100 transition-all"
                      >
                        Remove Customer
                      </button>
                    )}
                  </div>
                </div>
              )}

              <div className="space-y-3">
                <div className={`flex justify-between items-center py-3 px-4 rounded-lg border-4 transition-all ${totalCB > 0 ? 'bg-purple-50 border-purple-600' : 'bg-gray-50 border-gray-300'}`}>
                  <div className="flex items-center gap-2">
                    <span className={`text-xl ${totalCB > 0 ? '' : 'grayscale opacity-40'}`}>ðŸ’·</span>
                    <span className={`font-semibold ${totalCB > 0 ? 'text-purple-600' : 'text-gray-600'}`}>Customer Bonus:</span>
                  </div>
                  <span className={`text-xl font-bold ${totalCB > 0 ? 'text-purple-700' : 'text-gray-400'}`}>Â£{totalCB.toLocaleString()}</span>
                </div>

                {highActivityCustomers >= 2 && (
                  <div className="flex justify-between items-center py-3 px-4 rounded-lg border-4 bg-orange-50 border-orange-500 transition-all">
                    <div className="flex items-center gap-2">
                      <span className="text-xl">ðŸ”¥</span>
                      <span className="font-semibold text-orange-600">High Activity Bonus:</span>
                    </div>
                    <span className="text-xl font-bold text-orange-600">Â£{totalHAB.toLocaleString()}</span>
                  </div>
                )}

                <div className={`flex justify-between items-center py-3 px-4 rounded-lg transition-all ${qualifiesForFastStart ? 'bg-green-50 border-2 border-green-300' : 'bg-gray-50 border-2 border-gray-200'}`}>
                  <div className="flex items-center gap-2">
                    <TrendingUpIcon className={`w-5 h-5 ${qualifiesForFastStart ? 'text-green-600' : 'text-gray-400'}`} />
                    <span className={`font-semibold ${qualifiesForFastStart ? 'text-green-600' : 'text-gray-700'}`}>Fast Start Bonus:</span>
                  </div>
                  <div className="flex items-center gap-2">
                    {qualifiesForFastStart && <span className="font-bold text-green-700">QDâ˜…</span>}
                    <span className={`text-xl font-bold ${qualifiesForFastStart ? 'text-green-600' : 'text-gray-400'}`}>Â£{fastStartBonus.toLocaleString()}</span>
                  </div>
                </div>

                <div className="flex justify-between items-center py-4 px-4 rounded-lg shadow-md text-white relative overflow-hidden">
                  <div
                    className="absolute inset-0"
                    style={{
                      background: qualifiesForFastStart
                        ? `linear-gradient(to right, rgb(147, 51, 234) 0%, rgb(147, 51, 234) ${(totalCB / grandTotal) * 100}%, rgb(198, 83, 140) ${(totalCB / grandTotal) * 100}%, rgb(249, 115, 22) ${((totalCB + totalHAB) / grandTotal) * 100}%, rgb(142, 156, 69) ${((totalCB + totalHAB) / grandTotal) * 100}%, rgb(34, 197, 94) ${((totalCB + totalHAB) / grandTotal) * 100}%, rgb(34, 197, 94) 100%)`
                        : totalHAB > 0
                        ? `linear-gradient(to right, rgb(147, 51, 234) 0%, rgb(147, 51, 234) ${(totalCB / grandTotal) * 100}%, rgb(198, 83, 140) ${(totalCB / grandTotal) * 100}%, rgb(249, 115, 22) ${(totalCB / grandTotal) * 100}%, rgb(249, 115, 22) 100%)`
                        : 'rgb(147, 51, 234)'
                    }}
                  ></div>

                  <div className="flex items-center gap-2 relative z-10">
                    <span className="font-bold text-lg">TOTAL EARNINGS:</span>
                    {qualifiesForFastStart && (
                      <button
                        onClick={(e) => { e.stopPropagation(); setShowInfoPopup(true); }}
                        className="w-6 h-6 rounded-full bg-white bg-opacity-30 hover:bg-opacity-50 flex items-center justify-center transition-all relative animate-pulse"
                        title="Info"
                      >
                        <InfoIcon className="w-3.5 h-3.5 text-white" />
                        <div className="absolute -right-10 top-0 text-2xl animate-pointLeft">ðŸ‘ˆ</div>
                      </button>
                    )}
                  </div>

                  <span className="text-2xl font-bold relative z-10">Â£{grandTotal.toLocaleString()}</span>
                </div>

                {tenantCount > 0 && (
                  <div className="flex justify-between items-center py-3 px-4 rounded-lg border-4 bg-blue-50 border-blue-600 transition-all">
                    <div className="flex items-center gap-2">
                      <RefreshCwIcon className="w-5 h-5 text-blue-600" />
                      <span className="font-semibold text-gray-700">Recurring Income:</span>
                    </div>
                    <div className="text-right">
                      <span className="text-xl font-bold text-blue-600">~Â£{residualIncome.toFixed(2)}/m</span>
                      <span className="block text-xs text-blue-500">(~Â£{(residualIncome * 12).toLocaleString()}/yr)</span>
                    </div>
                  </div>
                )}

                <div
                  onClick={() => qualifiesForFastStart && setCardFlipped(!cardFlipped)}
                  className={`relative rounded-lg border-2 transition-all ${qualifiesForFastStart ? 'bg-gradient-to-r from-purple-600 to-pink-600 border-purple-700 cursor-pointer' : 'bg-gray-100 border-gray-300 cursor-not-allowed'}`}
                  style={{ minHeight: '140px' }}
                >
                  {!cardFlipped ? (
                    <div className="flex flex-col py-3 px-4">
                      <div className="flex items-center gap-3 mb-3">
                        {qualifiesForFastStart ? (
                          <>
                            <div className="text-2xl">ðŸ”“</div>
                            <span className="font-bold text-white">QDâ˜…</span>
                          </>
                        ) : (
                          <LockIcon className="w-5 h-5 text-gray-400 flex-shrink-0" />
                        )}
                        <div className={`text-base font-bold ${qualifiesForFastStart ? 'text-white' : 'text-gray-400'}`}>New Revenue Streams Unlocked!</div>
                      </div>
                      <div className={`text-sm ${qualifiesForFastStart ? 'text-white' : 'text-gray-400'} space-y-1 mb-3`}>
                        <div>â€¢ Supporting Bonuses</div>
                        <div>â€¢ Mentoring Bonuses</div>
                      </div>
                      {qualifiesForFastStart && <div className="text-xs text-pink-200 italic text-center">Tap to flip for worked example</div>}
                    </div>
                  ) : (
                    <div className="flex flex-col py-3 px-4">
                      <div className="flex items-center gap-3 mb-2">
                        <div className="text-2xl">ðŸ”“</div>
                        <span className="font-bold text-white mr-2">QDâ˜…</span>
                        <div className="text-sm font-semibold text-white">As a QD Star, for <span className="italic">each</span> partner you support to achieve <span className="italic">their</span> Fast Start Bonus:</div>
                      </div>
                      <div className="text-sm text-white space-y-1">
                        <div className="flex justify-between"><span>They earn (just like you, above)</span><span className="font-bold">Â£{grandTotal.toLocaleString()}</span></div>
                        <div className="flex justify-between border-t border-white border-opacity-30 pt-1 mt-1"><span>You earn (in this example)</span><span className="font-bold">Â£{partnerSupport.toLocaleString()}</span></div>
                        {Math.round(totalCB / 2) > 0 && (
                          <div className="flex justify-between text-xs ml-4"><span>â€¢ Supporting bonuses</span><span>Â£{Math.round(totalCB / 2).toLocaleString()}</span></div>
                        )}
                        <div className="flex justify-between text-xs ml-4"><span>â€¢ Mentoring bonus</span><span>Â£400</span></div>
                      </div>
                      <div className="text-xs text-pink-200 italic text-center mt-2">Tap to flip back</div>
                    </div>
                  )}
                </div>
              </div>
            </div>

            <div className="mt-4">
              <button onClick={() => setShowResetConfirm(true)} className="w-full py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors">Reset Tracker</button>
            </div>

            {showInfoPopup && (
              <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                <div className="bg-white rounded-xl p-6 shadow-2xl max-w-md w-full animate-slideDown relative">
                  <button onClick={() => setShowInfoPopup(false)} className="absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors" aria-label="Close">
                    <XIcon className="w-5 h-5 text-gray-600" />
                  </button>

                  <h3 className="text-2xl font-bold text-gray-900 mb-4">Time to get curious!</h3>

                  <p className="text-base text-gray-700 leading-relaxed mb-4">Have a play with different combinations of homeowner services and customer types to see how earnings can change.</p>

                  <div className="space-y-3 pt-4 border-t border-gray-200">
                    <div>
                      <p className="text-sm text-gray-700 mb-1">
                        <span className="text-lg">ðŸ”¥</span> <span className="font-semibold">High Activity Bonus</span>
                      </p>
                      <p className="text-sm text-gray-600 ml-7">
                        An extra reward for introducing multiple homeowners in a single calendar month.
                      </p>
                      <p className="text-sm text-gray-700 ml-7 mt-1">
                        See what happens when you introduce 2+ or 4+ homeowners taking THREE or more services.
                      </p>
                    </div>

                    <div>
                      <p className="text-sm text-gray-700 mb-1">
                        <RefreshCwIcon className="w-4 h-4 inline-block" /> <span className="font-semibold">Recurring Income</span>
                      </p>
                      <p className="text-sm text-gray-600 ml-7">
                        Introduce a customer who rents and you earn ongoing monthly income - a percentage profit share of their bill.
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            )}

            {showResetConfirm && (
              <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4">
                <div className="bg-white rounded-xl p-6 shadow-2xl max-w-sm w-full animate-slideDown">
                  <p className="text-lg font-semibold text-gray-900 mb-4 text-center">Are you sure?</p>
                  <p className="text-sm text-gray-600 mb-6 text-center">This will reset all customer data and cannot be undone.</p>
                  <div className="flex gap-3">
                    <button onClick={() => setShowResetConfirm(false)} className="flex-1 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold rounded-lg transition-colors">No</button>
                    <button onClick={resetTracking} className="flex-1 py-2 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-colors">Yes, Reset</button>
                  </div>
                </div>
              </div>
            )}

            {showCelebration && (
              <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 p-4">
                <div className="bg-white rounded-2xl p-8 max-w-md text-center animate-bounceOnce">
                  <div className="text-6xl mb-4">ðŸŽ‰</div>
                  <h2 className="text-3xl font-bold text-purple-600 mb-4">Congratulations!</h2>
                  <p className="text-xl text-gray-700 mb-2">You've achieved QD Star!</p>
                  <p className="text-4xl font-bold text-green-600 mb-4">Â£500 Fast Start Bonus unlocked!</p>
                </div>
              </div>
            )}
          </div>


          {/* Floating Action Button (links to quiz page) */}
          <a href="./quiz.html" title="Open Quiz"
             className="fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full shadow-lg bg-purple-600 hover:bg-purple-700 text-white flex items-center justify-center transition-transform hover:scale-105">
            <span className="text-2xl font-bold">?</span>
          </a>

          <style>{`
            @keyframes slideDown {
              0% { opacity: 0; transform: scale(0.95); }
              100% { opacity: 1; transform: scale(1); }
            }
            @keyframes confetti {
              0% { transform: translateY(0) rotate(0deg); opacity: 1; }
              100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
            }
            @keyframes bounceOnce {
              0%, 100% { transform: translateY(0); }
              25% { transform: translateY(-20px); }
              50% { transform: translateY(0); }
              75% { transform: translateY(-10px); }
            }
            @keyframes pointLeft {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(-5px); }
            }
            @keyframes fadeIn {
              from { opacity: 0; }
              to { opacity: 1; }
            }
            .animate-slideDown { animation: slideDown 0.2s ease-out forwards; }
            .animate-confetti { animation: confetti 3s ease-in forwards; }
            .animate-bounceOnce { animation: bounceOnce 0.6s ease-in-out; }
            .animate-pointLeft { animation: pointLeft 0.8s ease-in-out infinite; }
            .animate-fadeIn { animation: fadeIn 0.2s ease-in; }
          `}</style>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<UWPETToolOnly />);
  </script>
</body>
</html>
